<div ng-init="init()" class="email-stats">
    <div ng-show="initializing">
        <h4>Loading Event...</h4>
        <span>
            <md-progress-circular class="md-hue-2" md-mode="indeterminate"></md-progress-circular>
        </span>
    </div>
    <div ng-show="!initializing" class="email-stats">
        <div layout="row" layout-wrap layout-align="space-between center" class="section-title">
            <h3>Email Status</h3>
        </div>
        <event-preview event="event"></event-preview>
        <div layout="row" layout-align="space-between center" class="tabs">
            <md-button ng-class="getSelected(0)" ng-click="selectedIndex = 0" flex>
                Email Status
            </md-button>
        </div>
        <div class='tab-content'>
            <ng-switch on="selectedIndex">
                <div role="tabpanel" id="tab1-content" aria-labelledby="tab1" ng-switch-when="0">
                    <md-progress-circular class="md-hue-2" md-mode="indeterminate" ng-show="fetchingData"></md-progress-circular>
                    <div layout="row" layout-align="end center" ng-if="!fetchingData">
                        <md-input-container flex="40" flex-sm="100" md-no-float>
                            <input type="text" name="search" ng-model="filter.value" ng-change="filter.refresh()" placeholder="Search Guest">
                            <md-icon class="input-icon" md-svg-src="assets/images/SVG/active-search.svg"></md-icon>
                        </md-input-container>
                    </div>
                    <div ui-grid="gridOptions" ui-grid-auto-resize ng-class="getClass()" ng-style="getTableHeight()" ng-if="!fetchingData"></div>
                    <div flex layout="row" layout-align="end center" class="margin-top" ng-if="!fetchingData">
                        <md-button class="raised-btn" ng-click="resend()" ng-disabled="sendingData || selected.length === 0">
                            Resend
                        </md-button>
                        <md-progress-circular class="md-hue-2" md-mode="indeterminate" ng-show="sendingData"></md-progress-circular>
                    </div>
                </div>
            </ng-switch>
        </div>
    </div>
</div>