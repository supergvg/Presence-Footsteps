<div ng-init="init()" class="email-stats">
  <div ng-show="initializing">
    <h4>Loading Event...</h4>
    <span>
      <md-progress-circular class="md-hue-2" md-mode="indeterminate"></md-progress-circular>
    </span>
  </div>
  <div ng-show="!initializing" class="email-stats">
    <div layout="row" layout-wrap layout-align="space-between center" class="section-title">
      <h3>Email Management</h3>
    </div>
    <event-preview event="event"></event-preview>
    <div layout="row" layout-align="space-between center" class="tabs">
      <md-button ng-class="getSelected(0)" ng-click="selectedIndex = 0" flex>
        Email Status
      </md-button>
    </div>
    <div class='tab-content'>
      <ng-switch on="selectedIndex">
        <div role="tabpanel" id="tab1-content" aria-labelledby="tab1" ng-switch-when="0">
          <md-progress-circular class="md-hue-2" md-mode="indeterminate" ng-show="fetchingData"></md-progress-circular>
          <ui-grid-responsive options="options"></ui-grid-responsive>
          <div flex layout="row" layout-align="end center" class="margin-top" ng-if="!fetchingData">
            <md-progress-circular class="md-hue-2 near" md-mode="indeterminate" ng-show="sendingData"></md-progress-circular>
            <md-button class="raised-btn" ng-click="resend()" ng-disabled="sendingData || selected.length === 0" ng-if="!eventInPast">
              Resend
            </md-button>
          </div>
        </div>
      </ng-switch>
    </div>
  </div>
</div>
