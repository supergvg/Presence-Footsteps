<div class="guest-list-editor">
    <div>
        <form name="createGuestListForm">
            <div class="block-field">
                <div layout layout-sm="column">
                    <md-input-container flex="75" md-no-float>
                        <h4>Guest List Title</h4>
                        <input type="text" ng-model="list.title" name="title" required placeholder="Enter Guest List Title">
                    </md-input-container>
                    <md-input-container flex="25" md-no-float>
                        <h4>Guest Type</h4>
                        <ui-select required name="listType" ng-model="list.listType" ng-disabled="disableChangeGLType()" search-enabled="false" flex>
                            <ui-select-match placeholder="Select Type">
                                {{$select.selected}}
                            </ui-select-match>
                            <ui-select-choices repeat="t in guestListTypes">
                                {{t}}
                            </ui-select-choices>
                        </ui-select>                   
                    </md-input-container>
                </div>
            </div>
            <div class="block-field">
                <h4>Promoter</h4>
                <md-input-container flex md-no-float>
                    <ui-select name="promoter" ng-model="list.promoter_Id" search-enabled="false">
                        <ui-select-match placeholder="Select Promoter to Manage List">
                            {{$select.selected.firstName}} {{$select.selected.lastName}}
                        </ui-select-match>
                        <ui-select-choices repeat="promoter.Id as promoter in promoters">
                            {{promoter.firstName}} {{promoter.lastName}}
                        </ui-select-choices>
                    </ui-select>                   
                </md-input-container>
            </div>
        </form>
    </div>
    <div class="block-field">
        <h4>Import Guests</h4>
        <md-list>
            <md-list-item layout="row" layout-align="space-between center" layout-sm="column" layout-align-sm="center stretch">
                <p flex>Link previous guest list</p>
                <div>
                    <md-button class="raised-btn" ng-click="onLinkClicked($event)">
                        Link
                    </md-button>
                </div>
            </md-list-item>
            <md-list-item layout="row" layout-align="space-between center" layout-sm="column" layout-align-sm="center stretch">
                <p flex>Upload new guest list (csv, xlsx) Upload: <a href="assets/docs/Guest List Upload format 1.xlsx">format 1</a>, <a href="assets/docs/Guest List Upload format 2.xlsx">format 2</a></p>
                <div>
                    <md-button class="raised-btn" ng-file-select="onFileSelect($files)" accept=".csv,.xlsx,.xls">
                        Upload
                    </md-button>
                </div>
            </md-list-item>
        </md-list>
    </div>
    <div class="block-field">
        <h4>Guests</h4>
        <md-list>
            <md-list-item layout="row">
                <div flex class="actions">
                    <md-button class="raised-btn" ng-click="addMore()" ng-disabled="fetchingData">
                        Add Guest
                    </md-button>
                    <md-button class="raised-btn" ng-disabled="!rowSelected || fetchingData" ng-click="deleteSelectedRows()">
                        Delete
                    </md-button>
                </div>
                <div layout="row" layout-align="end center" hide-sm>
                    <md-progress-circular class="md-hue-2" md-mode="indeterminate" ng-show="fetchingData"></md-progress-circular>
                    <md-button class="raised-btn" ng-click="save()" ng-disabled="fetchingData">
                        Save
                    </md-button>
                </div>
            </md-list-item>
        </md-list>
        <div layout="row" layout-align="space-between center" class="margin-top" hide-gt-sm ng-if="options.sorting">
            <md-input-container flex md-no-float>
                <md-select ng-model="sort.sortField" ng-change="setSortField()">
                    <md-select-label>{{sort.sortField || 'Sort by Guest List'}}</md-select-label>
                    <md-option value="{{sf.name}}" ng-repeat="sf in sort.sortingFields">{{sf.name}}</md-option>
                </md-select>
            </md-input-container>
        </div>
        <div ui-grid="gridOptions" ui-grid-edit ui-grid-cellnav ui-grid-selection ui-grid-auto-resize ng-class="getClass()" ng-style="getTableHeight()"></div>
        <div flex layout="row" layout-align="end center" hide-gt-sm>
            <md-progress-circular class="md-hue-2" md-mode="indeterminate" ng-show="fetchingData"></md-progress-circular>
            <md-button class="raised-btn" ng-click="save()" ng-disabled="fetchingData">
                Save
            </md-button>
        </div>
    </div>
</div>
